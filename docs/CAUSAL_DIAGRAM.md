# Причинно-следственная диаграмма CollabHub

## Основной бизнес-процесс

```
┌─────────────────┐     ┌─────────────────┐     ┌─────────────────┐
│   РЕГИСТРАЦИЯ   │───▶│   АУТЕНТИФИКАЦИЯ │───▶│   ГЛАВНАЯ       │
│   ПОЛЬЗОВАТЕЛЯ  │     │                 │     │   СТРАНИЦА      │
└─────────────────┘     └─────────────────┘     └─────────────────┘
         │                       │                       │
         ▼                       ▼                       ▼
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ Создание профиля│    │ Выбор роли:     │    │ Просмотр        │
│ (имя, навыки,   │    │ - Заказчик      │    │ проектов        │
│ портфолио)      │    │ - Исполнитель   │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                                       │
                                                       ▼
                                              ┌─────────────────┐
                                              │ ФИЛЬТРАЦИЯ      │
                                              │ проектов по:    │
                                              │ - статусу       │
                                              │ - приоритету    │
                                              └─────────────────┘
                                                       │
                                                       ▼
                                    ┌─────────────────────────────────┐
                                    │        ВЕТВЛЕНИЕ ПО РОЛИ        │
                                    └─────────────────────────────────┘
                                               │
                    ┌──────────────────────────┼──────────────────────────┐
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │   ЗАКАЗЧИК      │        │  ИСПОЛНИТЕЛЬ    │        │   ПРОСМОТР      │
        │                 │        │                 │        │   ПРОЕКТА       │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ СОЗДАНИЕ        │        │ ПРОСМОТР        │        │ ДЕТАЛЬНАЯ       │
        │ ПРОЕКТА         │        │ ДОСТУПНЫХ       │        │ ИНФОРМАЦИЯ      │
        │                 │        │ ПРОЕКТОВ        │        │                 │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОЖИДАНИЕ        │        │ ОТКЛИК НА       │        │ ПРИНЯТИЕ        │
        │ ОТКЛИКОВ        │        │ ПРОЕКТ          │        │ РЕШЕНИЯ         │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ РАССМОТРЕНИЕ    │        │ ОЖИДАНИЕ        │        │ - Принять       │
        │ ОТКЛИКОВ        │        │ РЕШЕНИЯ         │        │ - Отклонить     │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ПРИНЯТИЕ/       │        │ УВЕДОМЛЕНИЕ     │        │ ОБНОВЛЕНИЕ      │
        │ ОТКЛОНЕНИЕ      │        │ О РЕШЕНИИ       │        │ СТАТУСА         │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ПРОЕКТ В        │        │ НАЧАЛО РАБОТЫ   │        │ ПРОЕКТ В        │
        │ РАБОТЕ          │        │                 │        │ РАБОТЕ          │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОБЩЕНИЕ В       │        │ ВЫПОЛНЕНИЕ      │        │ КОНТРОЛЬ        │
        │ ПРОЕКТНОМ ЧАТЕ  │        │ РАБОТЫ          │        │ ПРОГРЕССА       │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ПОЛУЧЕНИЕ       │        │ ЗАВЕРШЕНИЕ      │        │ ПРИЕМКА         │
        │ РЕЗУЛЬТАТА      │        │ РАБОТЫ          │        │ РАБОТЫ          │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОЦЕНКА          │        │ ОЖИДАНИЕ        │        │ ОСТАВЛЕНИЕ      │
        │ КАЧЕСТВА        │        │ ОЦЕНКИ          │        │ ОТЗЫВА          │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОСТАВЛЕНИЕ      │        │ ПОЛУЧЕНИЕ       │        │ ОБНОВЛЕНИЕ      │
        │ ОТЗЫВА          │        │ ОТЗЫВА          │        │ РЕЙТИНГА        │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОБНОВЛЕНИЕ      │        │ ОБНОВЛЕНИЕ      │        │ ПРОЕКТ          │
        │ СТАТИСТИКИ      │        │ СТАТИСТИКИ      │        │ ЗАВЕРШЕН        │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
```

## Детализация ключевых процессов

### 1. Процесс создания проекта (Заказчик)
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ НАЖАТИЕ         │───▶│ ЗАПОЛНЕНИЕ      │───▶│ ВАЛИДАЦИЯ       │
│ "СОЗДАТЬ        │    │ ФОРМЫ:          │    │ ДАННЫХ:         │
│ ПРОЕКТ"         │    │ - Название      │    │ - Проверка      │
└─────────────────┘    │ - Описание      │    │   даты          │
                       │ - Дедлайн       │    │ - Проверка      │
                       │ - Приоритет     │    │   файлов        │
                       │ - Файлы         │    │                 │
                       └─────────────────┘    └─────────────────┘
                                                       │
                                                       ▼
                                              ┌─────────────────┐
                                              │ СОХРАНЕНИЕ      │
                                              │ В БД:           │
                                              │ - Создание      │
                                              │   записи Jobs   │
                                              │ - Загрузка      │
                                              │   файлов        │
                                              └─────────────────┘
                                                       │
                                                       ▼
                                              ┌─────────────────┐
                                              │ ПРОЕКТ          │
                                              │ ОПУБЛИКОВАН     │
                                              └─────────────────┘
```

### 2. Процесс отклика на проект (Исполнитель)
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ ПРОСМОТР        │───▶│ НАЖАТИЕ         │───▶│ ПРОВЕРКА:      │
│ ПРОЕКТА         │    │ "ОТКЛИКНУТЬСЯ"  │    │ - Уже откликался│
└─────────────────┘    └─────────────────┘    │ - Проект открыт │
                                              │ - Роль          │
                                              │   исполнителя   │
                                              └─────────────────┘
                                                       │
                                                       ▼
                                              ┌─────────────────┐
                                              │ СОЗДАНИЕ        │
                                              │ ЗАПИСИ В БД:    │
                                              │ Applications    │
                                              │ (status=pending)│
                                              └─────────────────┘
                                                       │
                                                       ▼
                                              ┌─────────────────┐
                                              │ УВЕДОМЛЕНИЕ     │
                                              │ ЗАКАЗЧИКА       │
                                              └─────────────────┘
```

### 3. Процесс принятия решения (Заказчик)
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ ПОЛУЧЕНИЕ       │───▶│ ПРОСМОТР        │───▶│ АНАЛИЗ         │
│ УВЕДОМЛЕНИЯ     │    │ ОТКЛИКОВ        │    │ КАНДИДАТОВ:     │
│ О НОВОМ         │    │                 │    │ - Портфолио     │
│ ОТКЛИКЕ         │    └─────────────────┘    │ - Рейтинг       │
└─────────────────┘                           │ - Навыки        │
                                              └─────────────────┘
                                                       │
                                                       ▼
                                    ┌─────────────────────────────────┐
                                    │        ПРИНЯТИЕ РЕШЕНИЯ         │
                                    └─────────────────────────────────┘
                                               │
                    ┌──────────────────────────┼──────────────────────────┐
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │   ПРИНЯТЬ       │        │   ОТКЛОНИТЬ     │        │   ПОДОЖДАТЬ     │
        │                 │        │                 │        │                 │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОБНОВЛЕНИЕ      │        │ ОБНОВЛЕНИЕ      │        │ ОЖИДАНИЕ        │
        │ СТАТУСА:        │        │ СТАТУСА:        │        │ ДОПОЛНИТЕЛЬНЫХ  │
        │ - accepted      │        │ - rejected      │        │ ОТКЛИКОВ        │
        │ - in_progress   │        │                 │        │                 │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
```

### 4. Процесс завершения проекта
```
┌─────────────────┐    ┌─────────────────┐    ┌─────────────────┐
│ ЗАВЕРШЕНИЕ      │───▶│ УВЕДОМЛЕНИЕ     │───▶│ ПРОВЕРКА       │
│ РАБОТЫ          │    │ ЗАКАЗЧИКА       │    │ КАЧЕСТВА        │
│ (Исполнитель)   │    │                 │    │                 │
└─────────────────┘    └─────────────────┘    └─────────────────┘
                                                       │
                                                       ▼
                                    ┌─────────────────────────────────┐
                                    │        ПРИЕМКА РАБОТЫ           │
                                    └─────────────────────────────────┘
                                               │
                    ┌──────────────────────────┼──────────────────────────┐
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │   ПРИНЯТЬ       │        │   ОТКЛОНИТЬ     │        │   ЗАПРОСИТЬ     │
        │   РАБОТУ        │        │   РАБОТУ        │        │   ДОРАБОТКИ     │
        └─────────────────┘        └─────────────────┘        └─────────────────┘
                    │                          │                          │
                    ▼                          ▼                          ▼
        ┌─────────────────┐        ┌─────────────────┐        ┌─────────────────┐
        │ ОБНОВЛЕНИЕ      │        │ ВОЗВРАТ К       │        │ ОБРАТНАЯ        │
        │ СТАТУСА:        │        │ ДОРАБОТКЕ       │        │ СВЯЗЬ           │
        │ - done          │        │                 │        │                 │
        │ - completed     │        └─────────────────┘        └─────────────────┘
        └─────────────────┘
                    │
                    ▼
        ┌─────────────────┐
        │ ОСТАВЛЕНИЕ      │
        │ ОТЗЫВА          │
        └─────────────────┘
                    │
                    ▼
        ┌─────────────────┐
        │ ОБНОВЛЕНИЕ      │
        │ РЕЙТИНГА        │
        └─────────────────┘
```

## Ключевые точки принятия решений

### 1. Валидация данных
- **Причина**: Некорректные данные
- **Следствие**: Ошибка валидации → Возврат к форме

### 2. Проверка прав доступа
- **Причина**: Недостаточные права
- **Следствие**: Ошибка 403 → Перенаправление на логин

### 3. Дублирование отклика
- **Причина**: Повторный отклик
- **Следствие**: Ошибка → Уведомление пользователя

### 4. Выбор исполнителя
- **Причина**: Несколько откликов
- **Следствие**: Принятие решения → Обновление статусов

### 5. Качество работы
- **Причина**: Несоответствие требованиям
- **Следствие**: Отклонение → Доработка или новый исполнитель
